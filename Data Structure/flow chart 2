                    ┌──────────────────────────────┐
                    │      Start Application       │
                    └──────────────┬───────────────┘
                                   │
                                   ▼
                     ┌─────────────────────────────┐
                     │ Initialize KitchenManager()  │
                     └──────────────┬──────────────┘
                                   │
            ┌──────────────────────┼─────────────────────────┐
            │                      │                         │
            ▼                      ▼                         ▼
 ┌────────────────┐     ┌────────────────────┐     ┌────────────────────┐
 │ CustomerOrderUI │     │  Delivery Queue    │     │   Chef Interface    │
 │ (Dine-in input) │     │ (Add delivery bills)│     │ (Kitchen monitor)  │
 └──────┬──────────┘     └────────┬───────────┘     └────────┬──────────┘
        │                         │                          │
        │                         │                          │
        ▼                         ▼                          ▼
 ┌────────────────┐     ┌────────────────────┐     ┌────────────────────────┐
 │ Validate order │     │ feed_next_item_to_ │     │ get_unlocked_batches() │
 │ (table number) │     │ kitchen() every 3s │     │ get_locked_batches()   │
 └──────┬──────────┘     └────────┬───────────┘     └────────┬──────────────┘
        │                         │                          │
        ▼                         ▼                          ▼
 ┌─────────────────────────────┐  │       ┌────────────────────────────┐
 │ add_order() / add_to_batch  │◄─┘       │ Display Pending (Unlocked) │
 │ Create or reuse batch       │           │ Chef clicks "Confirm" →    │
 └──────────┬──────────────────┘           │ lock_batch(dish)           │
            │                              └──────────────┬─────────────┘
            ▼                                             │
 ┌────────────────────────────────────────┐                │
 │ Order stored as:                       │                │
 │ [dish, bill, remarks, locked, ready, batch] │           │
 └──────────┬─────────────────────────────┘                │
            │                                              │
            ▼                                              ▼
 ┌──────────────────────────────────────────┐   ┌──────────────────────────┐
 │ Chef clicks "Done" → confirm_batch_done() │   │ Move orders to Ready List │
 └──────────┬───────────────────────────────┘   └────────────┬─────────────┘
            │                                                │
            ▼                                                ▼
 ┌───────────────────────────────┐              ┌───────────────────────────────┐
 │ get_ready_bills(): separates  │              │ get_ready_bills(): separates  │
 │ dine-in vs delivery orders    │              │ dine-in vs delivery orders    │
 └──────────┬────────────────────┘              └──────────┬────────────────────┘
            │                                               │
            ▼                                               ▼
 ┌─────────────────────────────┐              ┌──────────────────────────────┐
 │ DineInInterface shows ready │              │ DeliveryInterface shows ready │
 │ dishes by table             │              │ delivery bills                │
 └──────────┬──────────────────┘              └──────────┬────────────────────┘
            │                                               │
            ▼                                               ▼
 ┌──────────────────────────────┐              ┌──────────────────────────────┐
 │ Waiter clicks "Mark Served"  │              │ Waiter clicks "Mark Packed"  │
 │ → remove dish from orders    │              │ → remove bill from orders     │
 └──────────┬───────────────────┘              └──────────┬────────────────────┘
            │                                               │
            └────────────────────┬──────────────────────────┘
                                 │
                                 ▼
                      ┌────────────────────────┐
                      │  System continuously   │
                      │  updates via .after()  │
                      │  (auto-refresh UIs)    │
                      └───────────┬────────────┘
                                  │
                                  ▼
                      ┌────────────────────────┐
                      │        END / IDLE      │
                      └────────────────────────┘
